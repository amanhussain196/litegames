<!DOCTYPE html><html lang="en"><head><script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script><meta charset="UTF-8"><meta name="viewport" content="width=1280,initial-scale=1"><title>Mind Bender | Man Games</title><link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;700&display=swap" rel="stylesheet"><style>:root{--bg:#0f172a;--card-bg:#1e293b;--card-back:#334155;--accent:#38bdf8;--accent-glow:rgba(56, 189, 248, 0.5);--text:#f8fafc;--success:#4ade80;--error:#f87171;--matched:#94a3b8}*{margin:0;padding:0;box-sizing:border-box;user-select:none}body{font-family:Outfit,sans-serif;background-color:var(--bg);color:var(--text);height:100vh;display:flex;flex-direction:column;align-items:center;justify-content:center;overflow:hidden}body::before{content:'';position:absolute;width:200%;height:200%;background:radial-gradient(circle at center,rgba(56,189,248,.1) 0,transparent 50%);animation:rotate 60s linear infinite;z-index:-1}@keyframes rotate{from{transform:rotate(0)}to{transform:rotate(360deg)}}.ui-panel{display:flex;gap:1.5rem;margin-bottom:1rem;font-size:1.1rem;font-weight:700;z-index:10;background:rgba(30,41,59,.8);padding:10px 30px;border-radius:50px;border:1px solid rgba(255,255,255,.1);backdrop-filter:blur(10px);box-shadow:0 4px 6px rgba(0,0,0,.1)}.stat-box{display:flex;align-items:center;gap:.5rem}.stat-value{color:var(--accent)}.game-container{position:relative;width:95vw;height:80vh;display:flex;align-items:center;justify-content:center;outline:0}.grid{display:grid;gap:10px;max-width:100%;max-height:100%;transition:all .3s ease}.card{background-color:transparent;perspective:1000px}.card-inner{position:relative;width:100%;height:100%;text-align:center;transition:transform .3s;transform-style:preserve-3d;border-radius:8px;box-shadow:0 4px 6px rgba(0,0,0,.3)}.card.selected{transform:scale(1.05);z-index:10;outline:3px solid var(--accent);box-shadow:0 0 15px var(--accent-glow)}.card.flipped .card-inner,.card.matched .card-inner{transform:rotateY(180deg)}.card.wiggle .card-inner{animation:wiggle .4s ease-in-out}@keyframes wiggle{0%,100%{transform:rotateY(180deg) translateX(0)}25%{transform:rotateY(180deg) translateX(-5px)}75%{transform:rotateY(180deg) translateX(5px)}}.card-back,.card-front{position:absolute;width:100%;height:100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;display:flex;align-items:center;justify-content:center;border-radius:8px;font-size:2rem;font-weight:700}.card-back{background:linear-gradient(135deg,var(--card-back),#1e293b);color:var(--accent);border:2px solid rgba(255,255,255,.05)}.card-back::after{content:'?';font-size:1.5rem;opacity:.5}.card-front{background:linear-gradient(135deg,#fff,#e2e8f0);color:#0f172a;transform:rotateY(180deg);font-size:clamp(1rem, 4vw, 3rem)}.card.matched .card-front{background:var(--matched);filter:grayscale(100%);opacity:.6;box-shadow:inset 0 0 10px rgba(0,0,0,.5)}.overlay{position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(15,23,42,.95);display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:100;backdrop-filter:blur(5px)}.overlay h1{font-size:4rem;margin-bottom:1rem;background:linear-gradient(to right,var(--accent),#a855f7);-webkit-background-clip:text;color:transparent;text-shadow:0 0 30px var(--accent-glow)}.overlay p{font-size:1.5rem;margin-bottom:2rem;color:#94a3b8}.btn{padding:15px 40px;font-size:1.5rem;background:var(--accent);color:#0f172a;border:none;border-radius:50px;cursor:pointer;font-family:inherit;font-weight:700;transition:all .2s;box-shadow:0 0 20px var(--accent-glow);margin-top:10px}.btn:focus,.btn:hover{transform:scale(1.1);box-shadow:0 0 40px var(--accent-glow);outline:3px solid white}.input-group{margin-bottom:2rem;display:flex;flex-direction:column;align-items:center}.input-group input{padding:10px 20px;font-size:1.2rem;border-radius:25px;border:2px solid var(--accent);background:rgba(15,23,42,.8);color:#fff;text-align:center;outline:0;font-family:inherit}.controls-hint{position:absolute;bottom:20px;font-size:.9rem;color:#64748b;text-align:center;width:100%}.feedback{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);font-size:3rem;font-weight:700;pointer-events:none;animation:floatUp 1s ease-out forwards;z-index:200;text-shadow:0 0 10px rgba(0,0,0,.8);white-space:nowrap;background:rgba(0,0,0,.5);padding:10px 20px;border-radius:10px;backdrop-filter:blur(4px)}@keyframes floatUp{0%{opacity:1;transform:translate(-50%,-50%) scale(.5)}50%{transform:translate(-50%,-150%) scale(1.2)}100%{opacity:0;transform:translate(-50%,-200%) scale(1)}}.feedback.good{color:var(--success);border:1px solid var(--success)}.feedback.bad{color:var(--error);border:1px solid var(--error)}body.mode-tv{cursor:none}</style></head><body><div class="ui-panel"><div class="stat-box">LEVEL <span id="levelDisplay" class="stat-value">1</span></div><div class="stat-box">TIME <span id="timeDisplay" class="stat-value">60</span>s</div><div class="stat-box">SCORE <span id="scoreDisplay" class="stat-value">0</span></div><div class="stat-box">HIGH SCORE <span id="highScoreDisplay" class="stat-value">---</span></div></div><div class="game-container" id="gameContainer" tabindex="0"><div id="grid" class="grid"></div><div id="startScreen" class="overlay"><h1>MIND BENDER</h1><p>Test your memory. Beat the clock.</p><button class="btn" onclick="startGame()">START GAME</button></div><div id="gameOverScreen" class="overlay" style="display:none"><h1>GAME OVER</h1><p>Your mind has been bent.</p><p>Level Reached: <span id="finalLevel" class="stat-value">1</span></p><p>Final Score: <span id="finalScore" class="stat-value">0</span></p><div id="highScoreInput" class="input-group" style="display:none"><p>NEW HIGH SCORE!</p><input type="text" id="playerName" placeholder="Enter Name" maxlength="10"> <button class="btn" onclick="saveHighScore()">SAVE</button></div><button id="retryBtn" class="btn" onclick="startGame()">TRY AGAIN</button></div><div id="victoryScreen" class="overlay" style="display:none"><h1>NEURAL MASTER</h1><p>You have conquered all levels!</p><p>Final Score: <span id="victoryScore" class="stat-value">0</span></p><div id="victoryHighScoreInput" class="input-group" style="display:none"><p>NEW HIGH SCORE!</p><input type="text" id="victoryPlayerName" placeholder="Enter Name" maxlength="10"> <button class="btn" onclick="saveVictoryHighScore()">SAVE</button></div><button id="playAgainBtn" class="btn" onclick="startGame()">PLAY AGAIN</button></div></div><div class="controls-hint">Numpad: 2 (Up) • 8 (Down) • 4 (Left) • 6 (Right) • 5 (Select) • 0 (Fullscreen)</div><a href="#" class="btn" style="position:fixed;top:10px;left:10px;padding:10px 20px;font-size:1rem;z-index:1000" onclick="goHome(event)">🏠 Home</a><script>const LEVELS=[{rows:2,cols:2},{rows:2,cols:4},{rows:4,cols:4},{rows:4,cols:6},{rows:6,cols:6},{rows:6,cols:8},{rows:8,cols:8},{rows:8,cols:10},{rows:10,cols:10},{rows:10,cols:10}],EMOJIS=["🍎","🍌","🍇","🍉","🍓","🍒","🍍","🥝","🥑","🌽","🥕","🥦","🍄","🥜","🥐","🥨","🥞","🧀","🍖","🍔","🍟","🍕","🌭","🥪","🌮","🌯","🥚","🍳","🥘","🍲","🍿","🧂","🥫","🍱","🍘","🍙","🍚","🍛","🍜","🍝","🍠","🍢","🍣","🍤","🍥","🥮","🍡","🥟","🥠","🥡","🍦","🍧","🍨","🍩","🍪","🎂","🍰","🧁","🥧","🍫","🍬","🍭","🍮","🍯","🍼","🥛","☕","🍵","🍶","🍾","🍷","🍸","🍹","🍺","🍻","🥂","🥃","🥤","🥢","🍽️","⚽","🏀","🏈","⚾","🥎","🎾","🏐","🏉","🎱","🏓","🐶","🐱","🐭","🐹","🐰","🦊","🐻","🐼","🐨","🐯"];let currentLevelIndex=0,timeLeft=60,timerInterval=null,cards=[],cursorIndex=0,flippedIndices=[],isProcessing=!1,isGameActive=!1,score=0,consecutiveMatches=0,highScore=0,highScorerName="---",failedPairsSinceLastCoin=0;const audioCtx=new(window.AudioContext||window.webkitAudioContext),gridEl=document.getElementById("grid"),levelDisplay=document.getElementById("levelDisplay"),timeDisplay=document.getElementById("timeDisplay"),scoreDisplay=document.getElementById("scoreDisplay"),highScoreDisplay=document.getElementById("highScoreDisplay"),startScreen=document.getElementById("startScreen"),gameOverScreen=document.getElementById("gameOverScreen"),victoryScreen=document.getElementById("victoryScreen"),finalLevelDisplay=document.getElementById("finalLevel"),finalScoreDisplay=document.getElementById("finalScore"),victoryScoreDisplay=document.getElementById("victoryScore"),highScoreInput=document.getElementById("highScoreInput"),victoryHighScoreInput=document.getElementById("victoryHighScoreInput"),retryBtn=document.getElementById("retryBtn"),playAgainBtn=document.getElementById("playAgainBtn"),gameContainer=document.getElementById("gameContainer");function loadHighScore(){const e=localStorage.getItem("mindbender_highscore"),t=localStorage.getItem("mindbender_name");e&&(highScore=parseInt(e),highScorerName=t||"---",updateHighScoreDisplay())}function updateHighScoreDisplay(){highScoreDisplay.textContent=`${highScorerName} - ${highScore}`}function startGame(){currentLevelIndex=0,timeLeft=60,score=0,consecutiveMatches=0,startScreen.style.display="none",gameOverScreen.style.display="none",victoryScreen.style.display="none",highScoreInput.style.display="none",victoryHighScoreInput.style.display="none",retryBtn.style.display="block",playAgainBtn.style.display="block",isGameActive=!0,gameContainer.focus(),"suspended"===audioCtx.state&&audioCtx.resume(),startLevel(),startTimer()}function startLevel(){const e=LEVELS[currentLevelIndex],t=e.rows*e.cols/2;let n=EMOJIS.slice(0,t),o=[...n,...n];for(let e=o.length-1;e>0;e--){const t=Math.floor(Math.random()*(e+1));[o[e],o[t]]=[o[t],o[e]]}cards=o.map((e,t)=>({id:t,content:e,isFlipped:!1,isMatched:!1,isWiggle:!1})),cursorIndex=0,flippedIndices=[],isProcessing=!1,updateUI(),createGrid()}function startTimer(){timerInterval&&clearInterval(timerInterval),timerInterval=setInterval(()=>{isGameActive&&(timeLeft--,updateUI(),timeLeft<=0&&gameOver())},1e3)}function updateUI(){levelDisplay.textContent=currentLevelIndex+1,timeDisplay.textContent=timeLeft,scoreDisplay.textContent=score,timeDisplay.style.color=timeLeft<=10?"var(--error)":"var(--accent)"}function createGrid(){const e=LEVELS[currentLevelIndex];gridEl.style.gridTemplateColumns=`repeat(${e.cols}, 1fr)`,gridEl.style.gridTemplateRows=`repeat(${e.rows}, 1fr)`;let t="100px";e.cols>=8&&(t="60px"),e.cols>=10&&(t="45px"),gridEl.innerHTML="",cards.forEach((e,n)=>{const o=document.createElement("div");o.className=`card ${e.isFlipped?"flipped":""} ${e.isMatched?"matched":""} ${e.isWiggle?"wiggle":""} ${n===cursorIndex?"selected":""}`,o.style.width=t,o.style.height=t,o.onclick=()=>{isGameActive&&!isProcessing&&(cursorIndex=n,updateGrid(),flipCard(n))};const i=document.createElement("div");i.className="card-inner";const c=document.createElement("div");c.className="card-front",c.textContent=e.content;const r=document.createElement("div");r.className="card-back",i.appendChild(c),i.appendChild(r),o.appendChild(i),gridEl.appendChild(o)})}function updateGrid(){const e=gridEl.children;for(let t=0;t<cards.length;t++){const n=cards[t],o=e[t];if(o){let e=["card"];n.isFlipped&&e.push("flipped"),n.isMatched&&e.push("matched"),n.isWiggle&&e.push("wiggle"),t===cursorIndex&&e.push("selected"),o.className=e.join(" ")}}}function handleInput(e){if("Select"===e&&!isGameActive){if("none"===highScoreInput.style.display&&"none"===victoryHighScoreInput.style.display){const e=document.activeElement;e&&"BUTTON"===e.tagName?e.click():startGame()}return}if(!isGameActive||isProcessing)return;const t=LEVELS[currentLevelIndex],n=t.rows*t.cols;"Up"===e?cursorIndex>=t.cols&&(cursorIndex-=t.cols):"Down"===e?cursorIndex<n-t.cols&&(cursorIndex+=t.cols):"Left"===e?cursorIndex%t.cols>0&&cursorIndex--:"Right"===e?cursorIndex%t.cols<t.cols-1&&cursorIndex++:"Select"===e&&flipCard(cursorIndex),updateGrid()}function flipCard(e){const t=cards[e];t.isFlipped||t.isMatched||(t.isFlipped=!0,flippedIndices.push(e),updateGrid(),2===flippedIndices.length&&checkMatch())}function checkMatch(){isProcessing=!0;const[e,t]=flippedIndices,n=cards[e],o=cards[t];if(n.content===o.content){n.isMatched=!0,o.isMatched=!0,flippedIndices=[],isProcessing=!1,consecutiveMatches++;const e=10+10*(consecutiveMatches-1);score+=e,timeLeft+=10,playSound("match"),showFeedback(`+${e} PTS (+10s)`,"good"),cards.every(e=>e.isMatched)?levelComplete():(updateGrid(),updateUI()),Math.random()<.02||failedPairsSinceLastCoin>=20?("undefined"!=typeof GoldManager&&(GoldManager.addCoins(1),showFeedback("+1 COIN!","good")),failedPairsSinceLastCoin=0,console.log("Match Dropped Coin!")):(failedPairsSinceLastCoin++,console.log("Match No Coin. Pity:",failedPairsSinceLastCoin))}else consecutiveMatches=0,n.isWiggle=!0,o.isWiggle=!0,updateGrid(),setTimeout(()=>{n.isWiggle=!1,o.isWiggle=!1,updateGrid()},400),setTimeout(()=>{n.isFlipped=!1,o.isFlipped=!1,flippedIndices=[],isProcessing=!1,timeLeft-=5,showFeedback("-5s","bad"),timeLeft<=0?gameOver():(updateGrid(),updateUI())},1e3)}function levelComplete(){isProcessing=!0,timeLeft+=60,showFeedback("LEVEL CLEARED! +60s","good"),setTimeout(()=>{currentLevelIndex++,currentLevelIndex>=LEVELS.length?victory():startLevel()},1500)}function gameOver(){isGameActive=!1,clearInterval(timerInterval),finalLevelDisplay.textContent=currentLevelIndex+1,finalScoreDisplay.textContent=score,gameOverScreen.style.display="flex",score>highScore&&(highScoreInput.style.display="flex",retryBtn.style.display="none"),"undefined"!=typeof TimeManager&&TimeManager.syncTimeRemote(!0),setTimeout(()=>{const e=gameOverScreen.querySelector("button");e&&"none"!==e.style.display&&e.focus()},100)}function victory(){isGameActive=!1,clearInterval(timerInterval),victoryScoreDisplay.textContent=score,victoryScreen.style.display="flex",score>highScore&&(victoryHighScoreInput.style.display="flex",playAgainBtn.style.display="none"),"undefined"!=typeof TimeManager&&TimeManager.syncTimeRemote(!0),setTimeout(()=>{const e=victoryScreen.querySelector("button");e&&"none"!==e.style.display&&e.focus()},100)}function saveHighScore(){const e=document.getElementById("playerName").value||"Anonymous";highScore=score,highScorerName=e,localStorage.setItem("mindbender_highscore",highScore),localStorage.setItem("mindbender_name",highScorerName),updateHighScoreDisplay(),highScoreInput.style.display="none",retryBtn.style.display="block",retryBtn.focus()}function saveVictoryHighScore(){const e=document.getElementById("victoryPlayerName").value||"Anonymous";highScore=score,highScorerName=e,localStorage.setItem("mindbender_highscore",highScore),localStorage.setItem("mindbender_name",highScorerName),updateHighScoreDisplay(),victoryHighScoreInput.style.display="none",playAgainBtn.style.display="block",playAgainBtn.focus()}function showFeedback(e,t){const n=document.createElement("div");n.className=`feedback ${t}`,n.textContent=e,document.body.appendChild(n),setTimeout(()=>n.remove(),1e3)}function playSound(e){if(!audioCtx)return;const t=audioCtx.createOscillator(),n=audioCtx.createGain();t.connect(n),n.connect(audioCtx.destination),"match"===e&&(t.type="sine",t.frequency.setValueAtTime(500,audioCtx.currentTime),t.frequency.exponentialRampToValueAtTime(1e3,audioCtx.currentTime+.1),n.gain.setValueAtTime(.1,audioCtx.currentTime),n.gain.exponentialRampToValueAtTime(.01,audioCtx.currentTime+.2),t.start(),t.stop(audioCtx.currentTime+.2))}function toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.log(`Error attempting to enable full-screen mode: ${e.message}`)})}function toggleFullScreen(){document.fullscreenElement?document.exitFullscreen&&document.exitFullscreen():document.documentElement.requestFullscreen().catch(e=>{console.log(`Error attempting to enable full-screen mode: ${e.message} (${e.name})`)})}async function goHome(e){e&&e.preventDefault(),"undefined"!=typeof TimeManager&&await TimeManager.syncTimeRemote(!0),window.location.href="index.html"}loadHighScore(),window.addEventListener("DOMContentLoaded",()=>{const e=new URLSearchParams(window.location.search).get("mode");e&&document.body.classList.add(`mode-${e}`)}),window.onload=()=>{if("none"!==startScreen.style.display){const e=startScreen.querySelector("button");e&&e.focus()}else gameContainer.focus()},gameContainer.addEventListener("blur",()=>{isGameActive&&setTimeout(()=>gameContainer.focus(),50)}),window.addEventListener("keydown",e=>{const t=e.key,n=e.keyCode;let o=!1;"Backspace"!==t&&"Escape"!==t&&8!==n&&27!==n&&461!==n&&10009!==n&&4!==n||(window.location.href="index.html",o=!0),(["2","ArrowUp"].includes(t)||38===n||19===n)&&(handleInput("Up"),o=!0),(["8","ArrowDown"].includes(t)||40===n||20===n)&&(handleInput("Down"),o=!0),(["4","ArrowLeft"].includes(t)||37===n||21===n)&&(handleInput("Left"),o=!0),(["6","ArrowRight"].includes(t)||39===n||22===n)&&(handleInput("Right"),o=!0),(["5","Enter"," "].includes(t)||13===n||23===n)&&(handleInput("Select"),o=!0),"0"!==t&&"f"!==t.toLowerCase()||(toggleFullScreen(),o=!0),o&&(e.preventDefault(),e.stopPropagation())})</script><script src="global.js"></script></body></html>